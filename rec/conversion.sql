declare @record nvarchar(max) =
'0000000044C5DB80:   dfff01b0 04f00372 006f0077 00ef0000 01f801f0  ßÿ.°.ð.r.o.w.ï...ø.ð
0000000044C5DB94:   02690064 00ef0000 02f60211 02390037 00f00573  .i.d.ï...ö...9.7.ð.s
0000000044C5DBA8:   00700061 00630065 00f02468 00740074 0070003a  .p.a.c.e.ð$h.t.t.p.:
0000000044C5DBBC:   002f002f 00770077 0077002e 00770033 002e006f  ././.w.w.w...w.3...o
0000000044C5DBD0:   00720067 002f0058 004d004c 002f0031 00390039  .r.g./.X.M.L./.1.9.9
0000000044C5DBE4:   0038002f 006e0061 006d0065 00730070 00610063  .8./.n.a.m.e.s.p.a.c
0000000044C5DBF8:   006500f0 0378006d 006c00ef 040503f6 03110870  .e.ð.x.m.l.ï...ö...p
0000000044C5DC0C:   00720065 00730065 00720076 006500f5 f0026300  .r.e.s.e.r.v.e.õð.c.
0000000044C5DC20:   3100ef00 0006f804 11115400 41004d00 4b004500  1.ï...ø...T.A.M.K.E.
0000000044C5DC34:   45004e00 20005000 4c005500 53002000 43004100  E.N. .P.L.U.S. .C.A.
0000000044C5DC48:   52004400 f7f00263 003200ef 000007f8 05111154  R.D.÷ð.c.2.ï...ø...T
0000000044C5DC5C:   0041004d 004b0045 0045004e 00200050 004c0055  .A.M.K.E.E.N. .P.L.U
0000000044C5DC70:   00530020 00430041 00520044 00f7f002 63003300  .S. .C.A.R.D.÷ð.c.3.
0000000044C5DC84:   ef000008 f8061106 52004500 54004100 49004c00  ï...ø...R.E.T.A.I.L.
0000000044C5DC98:   f7f00263 003400ef 000009f8 07110137 00f7f002  ÷ð.c.4.ï..	ø...7.÷ð.
0000000044C5DCAC:   63003500 ef00000a f8081103 43005200 4300f7f0  c.5.ï...ø...C.R.C.÷ð
0000000044C5DCC0:   03630031 003200ef 00000bf8 09110435 00300030  .c.1.2.ï...ø	..5.0.0
0000000044C5DCD4:   003000f7 f0036300 31003300 ef00000c f80a1101  .0.÷ð.c.1.3.ï...ø...
0000000044C5DCE8:   3200f7f0 03630031 003400ef 00000df8 0b110532  2.÷ð.c.1.4.ï...ø...2
0000000044C5DCFC:   00350030 00300030 00f7f003 63003100 3500ef00  .5.0.0.0.÷ð.c.1.5.ï.
0000000044C5DD10:   000ef80c 11013100 f7f00363 00320032 00ef0000  ..ø...1.÷ð.c.2.2.ï..
0000000044C5DD24:   0ff80d11 04490048 004c0044 00f7f003 63003200  .ø...I.H.L.D.÷ð.c.2.
0000000044C5DD38:   3300ef00 0010f80e 11013100 f7f00363 00320034  3.ï...ø...1.÷ð.c.2.4
0000000044C5DD4C:   00ef0000 11f80f11 0c31005f 0044004c 002e0052  .ï...ø...1._.D.L...R
0000000044C5DD60:   00450053 0054004f 00520045 00f7f003 63003200  .E.S.T.O.R.E.÷ð.c.2.
0000000044C5DD74:   3500ef00 0012f810 110a3200 32003000 36003100  5.ï...ø...2.2.0.6.1.
0000000044C5DD88:   33003000 38003000 3400f7f0 03630032 003700ef  3.0.8.0.4.÷ð.c.2.7.ï
0000000044C5DD9C:   000013f8 11110953 00410030 00300031 00300030  ...ø..	S.A.0.0.1.0.0
0000000044C5DDB0:   00300031 00f7f003 63003200 3800ef00 0014f812  .0.1.÷ð.c.2.8.ï...ø.
0000000044C5DDC4:   11063100 33003300 32003000 3000f7f7           ..1.3.3.2.0.0.÷÷

'
declare @hex_record varchar(max)

select @hex_record = isnull(@hex_record,'') + record
from (
select top 100 percent id,
master.dbo.vertical_array(record,' ',1) +
master.dbo.vertical_array(record,' ',2) +
master.dbo.vertical_array(record,' ',3) +
master.dbo.vertical_array(record,' ',4) + 
master.dbo.vertical_array(record,' ',5) record
from (
select top 100 percent id,
substring(ltrim(rtrim(substring(value,charindex(':',value)+1, len(value)))),1, 4 + (8*5)) record
from master.dbo.Separator(@record,char(10))
order by id)a
order by id)b
order by id

--select *,
--id, 
--[dbo].[Hex_to_Text_NChar](upper(substring(value,5,master.dbo.Hex_to_Decimal(substring(value,3,2)) * 4))) Tag, 
--[dbo].[Hex_to_Text_NChar](upper(substring(value,(master.dbo.Hex_to_Decimal(substring(value,3,2)) * 4) + 4 + 1 + 16, 
--master.dbo.Hex_to_Decimal(right(substring(value,(master.dbo.Hex_to_Decimal(substring(value,3,2)) * 4) + 4 + 1,16),2)) * 4))) f0_Tag_value
--from master.dbo.Separator(@hex_record,'f7')
--where value like 'f0%'
--and id > 1

declare @pos int
--declare @xml varchar(max) 
--set @xml = substring(@hex_record,charindex('dfff01',@hex_record), len(@hex_record))
declare @xml varchar(max) = 'dfff01b004f00372006f007700ef000001f801f00269006400ef000002f60211013700f00573007000610063006500f02468007400740070003a002f002f007700770077002e00770033002e006f00720067002f0058004d004c002f0031003900390038002f006e0061006d00650073007000610063006500f00378006d006c00ef040503f603110870007200650073006500720076006500f5f00263003100ef000006f804110952006500660069006e0061006e0063006500f7f804f0016d00ef000007f60511013200f5110b2506390627062f06290620002a06450648064a064406f7f00263003200ef000008f806110952006500660069006e0061006e0063006500f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  '
select @xml

select @pos = (master.dbo.Hex_to_Decimal(substring(substring(@xml, 11,4), 3,2)) * 4) + 10 + 4
select master.dbo.Hex_to_Text_NCHar(upper(substring(substring(@xml,11,len(@xml)),5,master.dbo.Hex_to_Decimal(substring(substring(@xml, 11,4), 3,2))*4)))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, @pos + 17, master.dbo.Hex_to_Decimal(substring(@xml, @pos + 15, 2)) * 4)))
select @pos = @pos + 17 + (master.dbo.Hex_to_Decimal(substring(@xml, @pos + 15, 2)) * 4)
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, @pos + 16, master.dbo.Hex_to_Decimal(substring(@xml, @pos + 14, 2)) * 4)))
select @pos = @pos + 16 + (master.dbo.Hex_to_Decimal(substring(@xml, @pos + 14, 2)) * 4)
select @xml = substring(@xml, @pos, len(@xml))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 5, master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4)))
select @pos = 5 + (master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4)
select @xml = substring(@xml, @pos, len(@xml))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 5, master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4)))
select @pos = 5 + (master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4)
select @xml = substring(@xml, @pos, len(@xml))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 5, master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4))) [xml]
select @pos = 5 + (master.dbo.Hex_to_Decimal(substring(@xml, 3, 2)) * 4)
select @xml = substring(@xml, @pos, len(@xml))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 17, (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4)))) preserve
select @pos = 17 + (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4)

select case 
when substring(@xml, @pos, 4) = 'f5f0' then 
master.dbo.Hex_to_Text_NCHar(upper(substring(@xml,@pos + 6,(master.dbo.Hex_to_Decimal(substring(@xml, @pos + 4, 2)) * 4))))
else 
master.dbo.Hex_to_Text_NCHar(upper(substring(@xml,@pos + 4,(master.dbo.Hex_to_Decimal(substring(@xml, @pos + 2, 2)) * 4))))
end

select @pos = @pos + case when substring(@xml, @pos, 4) = 'f5f0' then 6 + (master.dbo.Hex_to_Decimal(substring(@xml, @pos + 4, 2)) * 4)
																 else 4 + (master.dbo.Hex_to_Decimal(substring(@xml, @pos + 2, 2)) * 4)
end
select @xml = substring(@xml, @pos, len(@xml))
select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 17, (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4))))
select @pos = 17 + (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4)
select @xml = substring(@xml, @pos, len(@xml))
select @xml

dfff01b004f00372006f007700ef000001f801f00269006400ef000002f60211013700f00573007000610063006500f02468007400740070003a002f002f007700770077002e00770033002e006f00720067002f0058004d004c002f0031003900390038002f006e0061006d00650073007000610063006500f00378006d006c00ef040503f603110870007200650073006500720076006500f5f00263003100ef000006f804110952006500660069006e0061006e0063006500f7f804f0016d00
ef000007f60511 01 3200 f511 0b select convert(nvarchar(max),0x2506390627062f06290620002a06450648064a064406)
f7f0 02 select convert(nvarchar(max),0x63003200) ef000008f80611 09 select convert(nvarchar(max),0x52006500660069006e0061006e0063006500)
f7f8 06 f6051101 select convert(nvarchar(max),0x3200) f511 0d 2706390627062f0629062000270644062a06450648064a064406f 7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500
f7f8 0c f6051101 3200 f511 0d a2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  

f7f804f0016d00ef00000
7f60511013200f5110b2506390627062f06290620002a06450648064a064406f7f00263003200ef000008f806110952006500660069006e0061006e0063006500
f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500
f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  

--ef040503f6 03 11 08 70007200650073006500720076006500 f5 f00263003100ef000006f804110952006500660069006e0061006e0063006500f7f804f0016d00ef000007f60511013200f5110b2506390627062f06290620002a06450648064a064406f7f00263003200ef000008f806110952006500660069006e0061006e0063006500f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  
--select @pos = @pos + 14 + (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4)

--select @xml = substring(@xml, @pos, len(@xml))
--select master.dbo.Hex_to_Text_NCHar(upper(substring(@xml, 17, (master.dbo.Hex_to_Decimal(substring(@xml, 15, 2)) * 4))))
--select @hex_record
--select @xml

--7000040002000002000e00b40237dfff01b004f00372006f007700ef000001f801f00269006400ef000002f60211013700f00573007000610063006500f02468007400740070003a002f002f007700770077002e00770033002e006f00720067002f0058004d004c002f0031003900390038002f006e0061006d00650073007000610063006500f00378006d006c00ef040503f603110870007200650073006500720076006500f5f00263003100ef000006f804110952006500660069006e0061006e0063006500f7f804f0016d00ef000007f60511013200f5110b2506390627062f06290620002a06450648064a064406f7f00263003200ef000008f806110952006500660069006e0061006e0063006500f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  
--ef000006f804110952006500660069006e0061006e0063006500
--f7f804
--f0 01 6d00 ef000007f60511 01 3200 
--f511 0b 2506390627062f06290620002a06450648064a064406 f7 
--f0 02 63003200ef000008f806110952006500660069006e0061006e0063006500f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  


--dfff01b004
--f0 03 72006f007700
--ef000001f801f0 02 69006400 
--ef000002f60211 01 3700 
--f0 05 73007000610063006500f02468007400740070003a002
--f002 
--f00 7700770077002e00770033002e006f00720067002f0058004d004c002f0031003900390038002f006e0061006d00650073007000610063006500f00378006d006c00ef040503f603110870007200650073006500720076006500f5f00263003100ef000006f804110952006500660069006e0061006e0063006500f7f804f0016d00ef000007f60511013200f5110b2506390627062f06290620002a06450648064a064406f7f00263003200ef000008f806110952006500660069006e0061006e0063006500f7f806f60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003300ef000009f8071106520045005400410049004c00f7f00263003400ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000


--dfff01b004 
--f0 03 72006f007700 ef000001f8 01 f002 69006400 ef000002f6 02 11 01 3700 
--f0 05 73007000610063006500 
--f0 24 68007400740070003a002f002f007700770077002e00770033002e006f00720067002f0058004d004c002f0031003900390038002f006e0061006d00650073007000610063006500
--f0 03 78006d006c00 ef040503f6 03 11 08 select convert(nvarchar(max),0x70007200650073006500720076006500)
--f5f0 02 select convert(nvarchar(max),0x63003100) ef000006f8 04 11 09 select convert(nvarchar(max),0x52006500660069006e0061006e0063006500)
--f7f804f001 select convert(nvarchar(max),0x6d00) ef000007f6 05 11 01 3200 
--f511 0b 2506390627062f06290620002a06450648064a064406
--f7f0 02 select convert(nvarchar(max),0x63003200) ef000008f8 06 11 09 52006500660069006e0061006e0063006500 
--f7f806f6051101 3200 
--f5110d 2706 906 2706 2f06 29062000270644062a06450648064a064406f7f00263003300 ef000009f8 07 11 06 520045005400410049004c00
--f7f002 63003400 ef00000af80811013100f7f00263003500ef00000bf809110350004c004e00f7f00263003600ef00000cf80a1103330036003000f7f00263003700ef00000df80b11015900f7f00263003800ef00000ef80c110952006500660069006e0061006e0063006500f7f80cf60511013200f5110d2706390627062f0629062000270644062a06450648064a064406f7f00263003900ef00000ff80d11013700f7f003630032003200ef000010f80e1104490048004c004400f7f003630032003300ef000011f80f11013100f7f003630032003400ef000012f810110c31005f0044004c002e0052004500530054004f0052004500f7f003630032003500ef000013f811110a3200320030003300300038003100360035003700f7f003630032003700ef000014f8121109530041003000300031003000300030003100f7f003630032003800ef000015f8131106310033003200300030003000f7f70000000000000000000000000000  
--select convert(smallint, 0xf)

select convert(nvarchar(max),0x2706390627062f0629062000270644062a06450648064a064406)f7f00263003300)
select dbo.fn_pos('f7f804f001')
select dbo.fn_pos('f00372006f00')
select dbo.fn_pos('f7f806f6051101')
select dbo.fn_pos('f5110d')
select dbo.fn_pos('f7f002')

alter function fn_pos(@value varchar(500))
returns varchar(100)
as
begin
declare @pos varchar(100)

if 
substring(@value, 1, 2)  in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2)  not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2)  not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 7, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 3,2)
end
else
if 
substring(@value, 1, 2)  in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2)	 in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2)	 not in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 5,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 7,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 9,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 11,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 13,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 11,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) not in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 13,2)
end
else
if 
substring(@value, 1, 2) in ('f0','f5','f6','f7','f8','11') and
substring(@value, 3, 2) in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 5, 2) in ('f0','f5','f6','f7','f8','11')  and 
substring(@value, 7, 2)	 not in ('f0','f5','f6','f7','f8','11') and
substring(@value, 9, 2)  in ('f0','f5','f6','f7','f8','11') and
substring(@value, 11, 2) not in ('f0','f5','f6','f7','f8','11') and 
substring(@value, 13, 2) not in ('f0','f5','f6','f7','f8','11') 
begin
set @pos = substring(@value, 11,2)
end

return @pos
end

select @pos = 
case 
when substring(@value,1,2) in ('f0','f5','f6','f7','f8','11') then 
case 
when substring(@value,3,2) in ('f0','f5','f6','f7','f8','11') then 
case 
when substring(@value,5,2) in ('f0','f5','f6','f7','f8','11') then 
case 
when substring(@value,7,2) in ('f0','f5','f6','f7','f8','11') then substring(@value,9,2) 
else substring(@value,7,2)
end 
else substring(@value,5,2) 
end 
else substring(@value,3,2) 
end 
else substring(@value,1,2) 
end

return @pos
end
